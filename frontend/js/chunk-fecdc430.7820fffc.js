(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fecdc430"],{"070a":function(t,e,a){"use strict";a("c229")},"1d62":function(t,e,a){},"4ecd":function(t,e,a){},"686d":function(t,e,a){"use strict";a("4ecd")},"753d":function(t,e,a){"use strict";a("1d62")},"7d6b":function(t,e,a){"use strict";a("c13a")},c13a:function(t,e,a){},c229:function(t,e,a){},c7ac:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAn1BMVEUAAADXHATYHQXYHQbYHQbYHQXZHQbYHQbYHgbYHgXZHgbYHQbYHAjWHgDaIQDYHQbYHQfZHgTZHQbYHgbYHQbZHgbYHgXYHgbZHgfWHwfZHgbYHgbYHQXYHgbYHQbYHgbYHgXZHQfYHQXYHAfdHQfYHgbYHgbZHgfZHgbYHQbYHgXZHQXYHQbYHQXHEQDZHgbZHgbYHgbZHgXZHAXYHgYkGt+kAAAANHRSTlMAQL+BiV+aWOW5o7YcEQfSRjoq3HpsZFNLIPLt6cmwqo9xZyQWzMXDdVAyLuCVA/r22b02Sm65bgAAA9hJREFUeNrt3Yly2jAQBuAfAua+abivEHIAIdf//s/WmXbaTAp2McjWrme/N/jHtqQVSAtjjHHjftdZN6DcdjXnL9OXEvSqF175ZXMHpUp7fleBSn0emUKhNk/YQJ0tTypAmxpPG0CXIkM8QpcZwxShyYihatCkyHD3UKTAcEMoUmW4WyhSYbg+FMkz3M2wCR26xWWeUXrV2xGkGwQtnqN2V4dc3ZsWzzZeFA8Q6XnBmForeTVw8/aRF+j1Zc2P9/13Xqj8JGgQW/V4hY2UdWRpxivVcvCvO6cDN/CtWKYT+Rx8agT8RftDybXoUBW+FMe8iLR6vk/XyvAhYAIaSF2FiRghZS0mZIdUlZmYDlLEJNWRmhmTNG0gJS9MVq2JVBSYtAXSsGIYXeuuzhtTUELSDnmmodzFEW0fSDq/AD8zLU9I0uGBaZl0cUTyyt1PnbUb8z+UjFxVpmmDL1q/9NM/AEuvpULlkYwS0zZAIh6YthqScMv0tZGAPM8kfC7J0Yct/lBTFp62hGv3U/owqcOxH/TjDo7VGIPg8n1NT8rNbLxZZDsbbxZZyMabRT7ApSL9uQegbu/klGdAbyWS2EcyZSxiP5I6fYI7bfq0zsJ06HhKXDI+kevGOWOSOmy16NMczrwxNpHjb5NeteBKg1714MqIlxH3n6EuvRrDlU969Qqo3pv7YkEsyG8WxIJYkGgWxIJYkGgWxIJYkGgWxIJYkGgWxIJYkGgWxIJYkGgWxIJYkGgWxIJYkGgWxIJYkGgWxIJoCbKFE4fcEz3bLDu41jYoU4LFENeoBxSjj8sN3ilIFZe6oSyLjOQgF2IvconrSexFLjFN14jtgxIFqk5VRcll44GQc8QzpFRdyReHJHiaZEypqooOVUWaCb855Gw9RafDIk2UL7O+ZOXVmmg6aBGlp+kwkrtRC6JKw28CPQfYoz1nZK312kAsDRmbQMfm+gv2C+uRusxHsszCHgrJXl38XYbnKam54izaStIV91coZWPPtNfB5e42lCLo4ip3MwowCba42u4pv6dH41YwaMKRwzrnyaesPlfGGCNObpk/30sbUnUF9rNI557pZ8g0ltU74XITxvQDMrWEXKV+tYrodlUxVMX3Qktqs1hQ79ZvOoznA1LteUxll/aC2IZuMbUFtH9wY5aNNwsoKmhzep4PEX2EHBiIaRuW2iW0Q8hW3ysvqv7KqR96/7gV287Y/e3Z79Dh842RCtBiVNFY4J7SvJkwREX6uPuP9fKVJzzKns9P2r3sj56G5HVilGEw5V+PK6kl+lkau3ax/2PQGUmtz405w08mBpelr25HrwAAAABJRU5ErkJggg=="},d0c3:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("div",{staticClass:"news_map"},[s("wordCloud")],1),s("div",{staticClass:"home_header"},[s("el-button",{staticClass:"all country item",attrs:{type:"primary"},on:{click:function(e){return t.all()}}},[t._v("全国版")]),s("div",{staticClass:"top_bar"},[s("div",{staticClass:"center_content"},[s("div",{staticClass:"topleft"},[s("el-button",{staticClass:"subject item",attrs:{size:"medium"},on:{click:function(e){return t.change(1)}}},[t._v("学科建设")]),s("el-button",{staticClass:"enroll item",on:{click:function(e){return t.change(2)}}},[t._v("招生就业")]),s("el-button",{staticClass:"teach item",on:{click:function(e){return t.change(3)}}},[t._v("师风师德")])],1),s("el-button",{staticClass:"all",on:{click:function(e){return t.change(9)}}},[t._v("热点舆情总览")]),s("div",{staticClass:"topright"},[s("el-button",{staticClass:"school_construction item",on:{click:function(e){return t.change(4)}}},[t._v("校园基建")]),s("el-button",{staticClass:"bad item",on:{click:function(e){return t.change(5)}}},[t._v("学术不端")]),s("el-button",{staticClass:"epidemic_health item",on:{click:function(e){return t.change(6)}}},[t._v("疫情专题")])],1)],1)])],1),s("div",{staticClass:"home_content"},[s("div",{staticClass:"content_left"},[s("div",{staticClass:"news_index"},[s("cquptNews",{ref:"sonCqupt"})],1)]),s("div",{staticClass:"content_center"},[s("div",{staticClass:"news_num"},[s("newsNum",{ref:"sonNums"})],1)]),s("div",{staticClass:"contetn_right"},[s("div",{staticClass:"warn"},[t.isShow?s("trend"):s("div",{staticClass:"warnImg",on:{click:function(e){return t.toReport()}}},[s("div",[t._v("你有紧急舆情需处理 ！！！")]),s("img",{attrs:{src:a("c7ac"),alt:""}}),s("div",{staticClass:"content",model:{value:t.text,callback:function(e){t.text=e},expression:"text"}},[t._v(t._s(t.text))])])],1),s("div",{staticClass:"text_analyse"},[s("emotion")],1)])]),s("div",{staticClass:"change_page"},[s("changePage")],1)])},o=[],i=a("743d"),r=a("bec1"),l=a("e48f"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"new-container"},[a("div",{staticClass:"news_index_header"},[a("div",{staticClass:"viewpaper"},[a("div",{staticClass:"news_index_title"},[t._v("热度新闻指数")]),a("div",{staticClass:"marque",attrs:{id:"list"}},[t._m(0),t._l(t.allData,(function(e,s){return a("li",{key:s,staticClass:"row ",class:{active:t.isActive==s},on:{mouseover:function(e){return t.changeClass(s)},click:function(e){return t.toReport(s)}}},[a("span",{staticClass:"col"},[t._v(t._s(e.college))]),a("span",{staticClass:"col"},[t._v(t._s(e.raw_text.substring(0,13))+" ...")]),a("span",{staticClass:"col"},[t._v(t._s(e.hot_value))])])}))],2)])]),a("div",{staticClass:"news_index_footer"},[a("div",{staticClass:"viewpaper"},[a("div",{staticClass:"news_index_title"},[t._v("热度评论与走势")]),a("div",{staticClass:"marque"},[t._m(1),t._l(t.commentForm,(function(e,s){return a("li",{key:s,staticClass:"row "},[a("span",{staticClass:"col"},[t._v(t._s(e.comment_content.substring(0,15))+"...")]),a("span",{staticClass:"col"},[t._v(t._s(e.comment_id))])])}))],2),a("div",{ref:"trend_ref",staticClass:"com-chart"})])])])},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row-title"},[a("span",{staticClass:"col"},[t._v("学校名称")]),a("span",{staticClass:"col"},[t._v("舆情内容")]),a("span",{staticClass:"col"},[t._v("新闻指数")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row-title"},[a("span",{staticClass:"col"},[t._v("热点评论")]),a("span",{staticClass:"col"},[t._v("评论者ID")])])}],h=(a("1157"),{data(){return{myChart:null,allData:[{college:"",raw_text:"",hot_value:""},{college:"",raw_text:"",hot_value:""},{college:"",raw_text:"",hot_value:""}],isActive:0,commentForm:[{comment_content:"",comment_id:""},{comment_content:"",comment_id:""}],oldNews:[],converData:[],news:[]}},mounted(){this.getData()},updated(){},methods:{onClick(t){function e(t){for(var e in t)return!1;return!0}e(this.$store.state.screenDataCQ.data)?(this.allData=[{college:this.$store.state.screenDataCQ.data[0].college,raw_text:this.$store.state.screenDataCQ.data[0].raw_text,hot_value:this.$store.state.screenDataCQ.data[0].hot_value},{college:this.$store.state.screenDataCQ.data[1].college,raw_text:this.$store.state.screenDataCQ.data[1].raw_text,hot_value:this.$store.state.screenDataCQ.data[1].hot_value},{college:this.$store.state.screenDataCQ.data[2].college,raw_text:this.$store.state.screenDataCQ.data[2].raw_text,hot_value:this.$store.state.screenDataCQ.data[2].hot_value}],this.commentForm=[{comment_content:"无",comment_id:"无"},{comment_content:"无",comment_id:"无"}]):(this.news=this.$store.state.screenDataCQ.data,this.allData=this.news,this.commentForm=this.news[this.isActive].hot_comments),this.oldNews=this.$store.state.screenDataCQ.data[this.isActive].history_weibo;let a=[];this.oldNews.map(t=>{a.push(t.hot_value)}),this.converData=a.slice(0,6).reverse(),this.drawLine()},toReport(t){let e=this.allData[t],a={author_id:e.author_id,author_id_id:e.author_id_id,author_avatar:e.author_avatar,raw_text:e.raw_text,author_gender:e.author_gender,weibo_id:e.weibo_id,f:e.gender.f,m:e.gender.m,hot_comments:e.hot_comments,history_weibo:e.history_weibo,comment_word_cloud:e.comment_word_cloud,neg:e.comment_emotion_rate.neg,other:e.comment_emotion_rate.other};this.$store.commit("setNickName",a),this.$store.commit("setAuthor",a),this.$store.commit("setAvatar",a),this.$store.commit("setText",a),this.$store.commit("setGender",a),this.$store.commit("setHistoryWeibo",a),this.$store.commit("setGender",a),this.$store.commit("setCommit",a),this.$store.commit("setCommentCloud",a),this.$store.commit("setCommentEmotion",a),this.$store.commit("setWebId",a),this.$router.push("/manage/report")},getData(t){this.$url.get("news/cquptHot3/").then(t=>{this.allData=t.data.data,this.commentForm=this.news[this.isActive].hot_comments,this.oldNews=this.news[this.isActive].history_weibo;let e=[];this.oldNews.map(t=>{e.push(t.hot_value)}),this.converData=e.slice(0,6).reverse(),this.drawLine()}).catch(t=>{}),this.changeClass(0)},drawLine(){this.myChart=this.$echarts.init(document.querySelector(".com-chart"));const t={title:{show:!0,text:"博主历史新闻热度",textStyle:{align:"center",color:"#98E3F1",top:5,fontSize:16,fontWeight:"normal"},top:"0",left:"0"},tooltip:{trigger:"axis",axisPointer:{lineStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0, 255, 233,0)"},{offset:.5,color:"rgba(255, 255, 255,1)"},{offset:1,color:"rgba(0, 255, 233,0)"}],global:!1}}}},grid:{top:"20%",left:"1%",right:"10%",bottom:"42%",containLabel:!0},xAxis:[{type:"category",axisLine:{show:!0},splitArea:{color:"#f00",lineStyle:{color:"#f00"}},axisLabel:{color:"#A9AFC7"},splitLine:{show:!0,lineStyle:{color:["#fff"],opacity:.06}},boundaryGap:!1,data:["-5","-4","-3","-2","-1","预测"]}],yAxis:[{type:"value",min:0,splitNumber:4,splitLine:{show:!0,lineStyle:{color:["#fff"],opacity:.06}},axisLine:{show:!0},axisLabel:{show:!0,margin:20,textStyle:{fontSize:10,color:"#A9AFC7"}},axisTick:{show:!0}}],series:[{type:"line",smooth:!1,showAllSymbol:!0,symbol:"circle",symbolSize:10,lineStyle:{normal:{color:"#2CABE3"}},label:{show:!0,position:"top",textStyle:{color:"#2CABE3"}},itemStyle:{color:"#fff",borderColor:"#2CABE3",borderWidth:2},tooltip:{show:!1},areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(61,234,255, 0.9)"},{offset:1,color:"rgba(61,234,255, 0)"}],!1),shadowColor:"rgba(53,142,215, 0.9)",shadowBlur:20}},data:this.converData}]};this.myChart.setOption(t)},changeClass(t){this.isActive=t,this.commentForm=this.allData[this.isActive].hot_comments,this.oldNews=this.allData[this.isActive].history_weibo;let e=[];this.oldNews.map(t=>{e.push(t.hot_value)}),this.converData=e.slice(0,6).reverse(),this.updataOption()},updataOption(){const t={series:[{type:"line",smooth:!1,showAllSymbol:!0,symbol:"circle",symbolSize:10,lineStyle:{normal:{color:"#2CABE3"}},label:{show:!0,position:"top",textStyle:{color:"#2CABE3"}},itemStyle:{color:"#fff",borderColor:"#2CABE3",borderWidth:2},tooltip:{show:!1},areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(61,234,255, 0.9)"},{offset:1,color:"rgba(61,234,255, 0)"}],!1),shadowColor:"rgba(53,142,215, 0.9)",shadowBlur:20}},data:this.converData}]};this.myChart.setOption(t)},resizeChart(){this.myChart&&this.myChart.resize()}}}),m=h,d=(a("070a"),a("2877")),u=Object(d["a"])(m,n,c,!1,null,"4d1b3aa8",null),_=u.exports,g=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},b=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bar-container"},[a("div",{staticClass:"title"},[t._v("各专题情感分析")]),a("div",{staticClass:"cqupt-emotion"})])}],w={data(){return{myChart:null,allData:null,startValue:0,endValue:3,timeId:null}},mounted(){this.drawLine(),this.getData(),window.addEventListener("resize",this.resizeChart)},destroyed(){window.removeEventListener("resize",this.resizeChart),clearInterval(this.timeId)},methods:{drawLine(){this.myChart=this.$echarts.init(document.querySelector(".cqupt-emotion"));const t={tooltip:{trigger:"axis",axisPointer:{type:"shadow",textStyle:{color:"#fff"}}},grid:{borderWidth:0,top:14,bottom:140,textStyle:{color:"#fff"}},calculable:!0,xAxis:[{type:"category",axisLine:{lineStyle:{color:"rgba(255,255,255,.5)"}},splitLine:{show:!1},axisTick:{show:!1},splitArea:{show:!1},axisLabel:{interval:0,color:"#fff",fontSize:12}}],yAxis:[{type:"value",splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{interval:0,color:"#fff",fontSize:8},splitArea:{show:!1}}],series:[]};this.myChart.setOption(t),this.myChart.on("mouseover",()=>{clearInterval(this.timeId)}),this.myChart.on("mouseon",()=>{this.startInterval()})},async getData(){const{data:t}=await this.$url.get("news/cquptAspectNums/");this.allData=t.data,this.allData.sort((t,e)=>e.neg-t.neg),this.updateChart(),this.startInterval()},updateChart(){const t=this.allData.map(t=>t.aspect),e=this.allData.map(t=>t.neg),a=this.allData.map(t=>t.other),s=this.allData.map(t=>t.neg+t.other),o={xAxis:{data:t},dataZoom:{show:!1,startValue:this.startValue,endValue:this.endValue},series:[{name:"总量",type:"bar",stack:"总量",barMaxWidth:20,barGap:"10%",label:{show:!0},itemStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(35, 157, 250, 1)"},{offset:1,color:"rgba(35, 157, 250, 0)"}],global:!1}}},data:s},{name:"正面",type:"bar",stack:"总量",itemStyle:{normal:{color:"rgb(35,250,187)",barBorderRadius:0}},data:a},{name:"负面",type:"line",symbolSize:7,symbol:"circle",label:{show:!0},itemStyle:{normal:{color:"rgba(255, 196, 53, 1)",barBorderRadius:0}},lineStyle:{normal:{width:4,color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(255, 67, 2, 1)"},{offset:1,color:"rgba(255, 196, 53, 1)"}],global:!1}}},data:e}]};this.myChart.setOption(o)},startInterval(){this.timeId&&clearInterval(this.timeId),this.timeId=setInterval(()=>{this.startValue++,this.endValue++,this.endValue>this.allData.length-1&&(this.startValue=0,this.endValue=3),this.updateChart()},2e3)},resizeChart(){this.myChart&&this.myChart.resize()}}},p=w,v=(a("686d"),Object(d["a"])(p,g,b,!1,null,null,null)),C=v.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"now_news_num"},[a("div",{staticClass:"news_count"},[t._v("当前舆情总量")]),a("div",{staticClass:"no"},[a("div",{staticClass:"no-hd"},[a("ul",[a("li",[t._v(t._s(t.allnums))]),a("li",[t._v(t._s(t.allnums))])])])])])])},y=[],x={data(){return{allnums:""}},mounted(){this.getData()},methods:{onClick(t){this.allnums=this.$store.state.allNums},async getData(){const{data:t}=await this.$url("news/cquptNums/");this.allnums=t.data[0].nums}}},A=x,H=(a("753d"),Object(d["a"])(A,f,y,!1,null,null,null)),D=H.exports,S=a("9792"),k=a("4928"),Y={data(){return{text:"",isShow:!0,flag:"all",input:"",weibo_id:""}},components:{topBar:i["a"],singleMap:r["a"],trend:l["a"],cquptNews:_,emotion:C,newsNum:D,changePage:S["a"],wordCloud:k["a"]},mounted(){this.getState(),this.cqupt()},methods:{all(){this.$router.push("/home")},cqupt(){this.$url.get("news/cquptHot3/").then(t=>{let e=t.data;this.allData=t.data,this.$store.commit("setScreenDataCQ",e),this.$refs.sonCqupt.onClick()}).catch(t=>{})},change(t){let e,a;switch(t){case 9:e=9;break;case 1:e="学科建设";break;case 2:e="招生就业";break;case 3:e="师风师德";break;case 4:e="校园基建";break;case 5:e="学术不端";break;case 6:e="疫情专题";break;default:break}a=9==e?"news/cquptHot3/":"news/cquptHot3/?aspect="+e,this.$url.get(a).then(t=>{let e=t.data;this.allData=t.data,this.$store.commit("setScreenDataCQ",e),this.$refs.sonCqupt.onClick()}).catch(t=>{})},getState(){function t(t){for(var e in t)return!1;return!0}this.$url.get("news/cquptHot20/?label=1").then(e=>{if(200===e.data.code&&0==t(e.data.data)){this.isShow=!1;let t=e.data.data[0];this.weibo_id=e.data.data[0].weibo_id,this.text=e.data.data[0].raw_text;let a={author_id:t.author_id,author_id_id:t.author_id_id,author_avatar:t.author_avatar,raw_text:t.raw_text,author_gender:t.author_gender,weibo_id:t.weibo_id,f:t.gender.f,m:t.gender.m,hot_comments:t.hot_comments,history_weibo:t.history_weibo,comment_word_cloud:t.comment_word_cloud,neg:t.comment_emotion_rate.neg,other:t.comment_emotion_rate.other};this.$store.commit("setNickName",a),this.$store.commit("setAuthor",a),this.$store.commit("setAvatar",a),this.$store.commit("setText",a),this.$store.commit("setGender",a),this.$store.commit("setHistoryWeibo",a),this.$store.commit("setGender",a),this.$store.commit("setCommit",a),this.$store.commit("setCommentCloud",a),this.$store.commit("setCommentEmotion",a),this.$store.commit("setWebId",a)}}).catch(t=>{})},toReport(){let t=this.weibo_id;this.$url.get("news/HandleEarlyWarning/",{params:{weibo_id:t}}).then(t=>{this.$router.push("/manage/report")}).catch(t=>{})}}},$=Y,Q=(a("7d6b"),Object(d["a"])($,s,o,!1,null,"6ff250b3",null));e["default"]=Q.exports}}]);
//# sourceMappingURL=chunk-fecdc430.7820fffc.js.map